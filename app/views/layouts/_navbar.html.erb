<nav class="navbar bg-body-tertiary">
    <div class="container-fluid">
        <%= link_to root_path, class: "navbar-brand" do %>
            <%= image_tag "logo.png", size: "24x24", alt: "Logo", class: "d-inline-block align-text-top" %>
            Recipe Fun
        <% end %>

        <ul class="navbar-nav">
            <% if current_page?(controller: '/recipes', action: 'index') || current_page?(root_url) %>
                <% if user_signed_in? %>
                    <li class="nav-item">
                        <%= link_to "Add Recipe", new_recipe_path, class: "nav-link" %>
                    </li>
                <% end %>
            <% else %>
                <li class="nav-item">
                    <%= link_to "Explore", recipes_path, class: "nav-link" %>
                </li>
            <% end %>
        </ul>

        <% if user_signed_in? %>
            <%= link_to edit_user_registration_path, class: "navbar-brand" do %>
                <% if current_user.avatar.attached? %>
                    <%= image_tag current_user.avatar, size: "24x24" %>
                    <%= user_name(current_user) %>
                <% else %>
                    <%= fa_icon "user", text: user_name(current_user) %>
                <% end %>
            <% end %>
        <% else %>
            <%= link_to new_user_session_path, class: "navbar-brand" do %>
                <%= fa_icon "user" %>
            <% end %>
        <% end %>
    </div>
</nav>
