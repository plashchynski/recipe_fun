<% content_for :title, "Explore" %>

<%= render partial: "layouts/navbar" %>

<%= render partial: "layouts/flash_messages" %>

<% if user_signed_in? %>
  <div class="btn-group recipes_mode_switcher" role="group">
    <%= link_to "Explore", recipes_path(mode: 'all'), class: "btn #{@mode == 'all' ? "btn-primary" : "btn-outline-primary"}" %>
    <%= link_to "My Recipes", recipes_path(mode: 'my'), class: "btn #{@mode == 'my' ? "btn-primary" : "btn-outline-primary"}" %>
  </div>
<% end %>

<%= form_tag request.original_url, class: "row g-3", method: :get do %>
  <div class="col-auto">
    <%= text_field_tag 'search', params[:search], placeholder: "Search", class: "form-control" %>
  </div>

  <div class="col-auto">
    <%= submit_tag "Search", class: "btn btn-primary mb-3" %>
  </div>
<% end %>

<div id="recipes">
  <%= render @recipes %>
</div>

<%= paginate @recipes, theme: 'bootstrap-5' %>
